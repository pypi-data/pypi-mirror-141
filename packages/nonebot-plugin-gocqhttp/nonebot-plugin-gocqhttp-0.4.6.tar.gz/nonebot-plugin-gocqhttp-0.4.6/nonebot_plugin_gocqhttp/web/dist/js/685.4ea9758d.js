"use strict";(self["webpackChunknonebot_plugin_gocqhttp_frontend"]=self["webpackChunknonebot_plugin_gocqhttp_frontend"]||[]).push([[685],{9685:(e,l,o)=>{o.r(l),o.d(l,{default:()=>Y});var t=o(3673),a=o(1959),s=o(2323),r=o(1768),d=o(8825),i=o(2585),u=o.n(i),n=function(e,l,o,t){function a(e){return e instanceof o?e:new o((function(l){l(e)}))}return new(o||(o=Promise))((function(o,s){function r(e){try{i(t.next(e))}catch(l){s(l)}}function d(e){try{i(t["throw"](e))}catch(l){s(l)}}function i(e){e.done?o(e.value):a(e.value).then(r,d)}i((t=t.apply(e,l||[])).next())}))};const c=(0,t._)("div",{class:"text-h5 q-pa-md"},"系统状态",-1),v={class:"col-12 col-sm-8 row justify-evenly"},m={class:"text-center col-6"},p=(0,t._)("div",{class:"text-body1 q-mr-sm"},"CPU",-1),y={class:"text-body2"},w={class:"text-body2"},_={class:"text-center col-6"},f=(0,t._)("div",{class:"text-body1"},"内存",-1),h={class:"text-body2"},g={class:"text-body2"},b={class:"text-body2"},x={class:"col-12 col-sm-4"},k=(0,t._)("div",{class:"text-body1"},"硬盘占用",-1),q={class:"absolute-full flex flex-center"},W={class:"text-body2 text-grey q-pt-sm"},z=(0,t._)("div",{class:"text-body1 q-pb-sm"},"开机时间",-1),U={class:"text-body2"},Z=(0,t._)("div",{class:"text-body1 q-pb-sm"},"主进程启动时间",-1),B={class:"text-body2"},P=(0,t.Uk)("数据更新间隔"),S=(0,t.aZ)({setup(e){const l=(0,d.Z)(),o=(0,a.iH)(),i=(0,a.iH)(3e3),S={cpuUsed:"总计CPU占用",cpuProcess:"主进程CPU占用",memoryUsed:"总计内存占用",memoryProcess:"主进程内存占用"},Q={dataLabels:{enabled:!1},xaxis:{type:"datetime",range:18e4},yaxis:{max:100,min:0,decimalsInFloat:1},stroke:{curve:"smooth"}},C=Object.values(S).map((e=>({name:e,data:[]}))),j=(0,a.iH)();function A(e,l=2){if(0===e)return"0 Bytes";const o=1024,t=l<0?0:l,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(e)/Math.log(o));return(e/Math.pow(o,s)).toFixed(t)+a[s]}let L;function M(){var e;return n(this,void 0,void 0,(function*(){try{l.loadingBar.start();const{data:t}=yield r.api.systemStatusApiStatusGet();o.value=t;const a=Date.now();null===(e=j.value)||void 0===e||e.appendData(Object.entries({[S.cpuUsed]:t.cpu_percent,[S.cpuProcess]:t.process.cpu_percent,[S.memoryUsed]:t.memory.percent,[S.memoryProcess]:t.process.memory_used/t.memory.total*100}).map((([e,l])=>({name:e,data:[{x:a,y:l}]}))))}finally{l.loadingBar.stop(),L=window.setTimeout((()=>{M()}),i.value)}}))}return(0,t.Jd)((()=>{window.clearTimeout(L)})),(0,t.YP)((()=>l.dark.isActive),(()=>{var e;null===(e=j.value)||void 0===e||e.updateOptions({theme:{mode:l.dark.isActive?"dark":"light"}})})),M(),(e,r)=>{const d=(0,t.up)("q-icon"),n=(0,t.up)("q-circular-progress"),S=(0,t.up)("q-badge"),L=(0,t.up)("q-linear-progress"),M=(0,t.up)("q-separator"),D=(0,t.up)("q-card-section"),H=(0,t.up)("q-expansion-item"),I=(0,t.up)("q-list"),O=(0,t.up)("q-chip"),T=(0,t.up)("q-slider"),V=(0,t.up)("q-card"),E=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(E,{class:"row items-center justify-evenly q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{class:"shadow window-width q-pa-sm"},{default:(0,t.w5)((()=>[c,(0,t.Wm)(D,{class:"row justify-evenly"},{default:(0,t.w5)((()=>{var e,r,i,u,c,P,Q,C,j,D,H,I,O,T,V,E,F,G,Y,J,K;return[(0,t._)("div",v,[(0,t._)("div",m,[(0,t.Wm)(n,{value:null===(e=o.value)||void 0===e?void 0:e.cpu_percent,"track-color":(0,a.SU)(l).dark.isActive?"grey-8":"grey-3",thickness:.2,size:"16vh","show-value":"",color:"green",class:"q-ma-sm"},{default:(0,t.w5)((()=>{var e;return[(0,t.Wm)(n,{value:null===(e=o.value)||void 0===e?void 0:e.process.cpu_percent,"track-color":(0,a.SU)(l).dark.isActive?"grey-9":"grey-4","show-value":"",size:"15vh",color:"purple"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"developer_board",size:"md",color:"teal"})])),_:1},8,["value","track-color"])]})),_:1},8,["value","track-color","thickness"]),p,(0,t._)("div",y,"总计 "+(0,s.zw)(null===(r=o.value)||void 0===r?void 0:r.cpu_percent)+"%",1),(0,t._)("div",w," 主进程 "+(0,s.zw)(null===(i=o.value)||void 0===i?void 0:i.process.cpu_percent)+"% ",1)]),(0,t._)("div",_,[(0,t.Wm)(n,{value:null===(u=o.value)||void 0===u?void 0:u.memory.percent,"track-color":(0,a.SU)(l).dark.isActive?"grey-8":"grey-3",size:"15vh","show-value":"",color:"blue",class:"q-ma-sm"},{default:(0,t.w5)((()=>{var e,s,r,i;return[(0,t.Wm)(n,{value:(null!==(s=null===(e=o.value)||void 0===e?void 0:e.process.memory_used)&&void 0!==s?s:0)/(null!==(i=null===(r=o.value)||void 0===r?void 0:r.memory.total)&&void 0!==i?i:0)*100,"track-color":(0,a.SU)(l).dark.isActive?"grey-9":"grey-4","show-value":"",size:"14vh",color:"purple"},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"memory",size:"md",color:"light-green"})])),_:1},8,["value","track-color"])]})),_:1},8,["value","track-color"]),f,(0,t._)("div",h,(0,s.zw)(null===(c=o.value)||void 0===c?void 0:c.memory.percent)+"%",1),(0,t._)("div",g,(0,s.zw)(A(null!==(Q=null===(P=o.value)||void 0===P?void 0:P.memory.available)&&void 0!==Q?Q:0)+"/"+A(null!==(j=null===(C=o.value)||void 0===C?void 0:C.memory.total)&&void 0!==j?j:0)),1),(0,t._)("div",b," 主进程 "+(0,s.zw)(A(null!==(H=null===(D=o.value)||void 0===D?void 0:D.process.memory_used)&&void 0!==H?H:0)),1)])]),(0,t._)("div",x,[k,(0,t.Wm)(L,{value:(null!==(O=null===(I=o.value)||void 0===I?void 0:I.disk.percent)&&void 0!==O?O:0)/100,stripe:"",rounded:"",size:"20px",color:"orange",class:"q-mt-sm"},{default:(0,t.w5)((()=>[(0,t._)("div",q,[(0,t.Wm)(S,null,{default:(0,t.w5)((()=>{var e;return[(0,t.Uk)((0,s.zw)(null===(e=o.value)||void 0===e?void 0:e.disk.percent)+"%",1)]})),_:1})])])),_:1},8,["value"]),(0,t._)("div",W,(0,s.zw)(A(null!==(V=null===(T=o.value)||void 0===T?void 0:T.disk.free)&&void 0!==V?V:0))+"/ "+(0,s.zw)(A(null!==(F=null===(E=o.value)||void 0===E?void 0:E.disk.total)&&void 0!==F?F:0)),1),(0,t.Wm)(M,{spaced:""}),z,(0,t._)("div",U,(0,s.zw)(new Date(1e3*(null!==(Y=null===(G=o.value)||void 0===G?void 0:G.boot_time)&&void 0!==Y?Y:0)).toLocaleString()),1),(0,t.Wm)(M,{spaced:""}),Z,(0,t._)("div",B,(0,s.zw)(new Date(1e3*(null!==(K=null===(J=o.value)||void 0===J?void 0:J.process.start_time)&&void 0!==K?K:0)).toLocaleString()),1)])]})),_:1}),(0,t.Wm)(D,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(I,{bordered:"",class:"rounded-borders shadow"},{default:(0,t.w5)((()=>[(0,t.Wm)(H,{icon:"insights","expand-separator":"",label:"资源使用量统计图"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,a.SU)(u()),{class:"col-12 q-pa-md",type:"area",ref_key:"chart",ref:j,height:"400",options:Q,series:(0,a.SU)(C)},null,8,["series"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(M,{spaced:""}),(0,t.Wm)(D,{class:"row justify-end items-center"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{icon:"refresh"},{default:(0,t.w5)((()=>[P])),_:1}),(0,t.Wm)(T,{class:"col-8 col-sm-4",modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e),snap:"",min:500,max:1e4,step:100},null,8,["modelValue"]),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,s.zw)(i.value)+"ms",1)])),_:1})])),_:1})])),_:1})])),_:1})}}});var Q=o(4379),C=o(151),j=o(5589),A=o(6122),L=o(4554),M=o(1598),D=o(9721),H=o(5869),I=o(7011),O=o(429),T=o(7030),V=o(2064),E=o(7518),F=o.n(E);const G=S,Y=G;F()(S,"components",{QPage:Q.Z,QCard:C.Z,QCardSection:j.Z,QCircularProgress:A.Z,QIcon:L.Z,QLinearProgress:M.Z,QBadge:D.Z,QSeparator:H.Z,QList:I.Z,QExpansionItem:O.Z,QChip:T.Z,QSlider:V.Z})}}]);
//# sourceMappingURL=685.4ea9758d.js.map