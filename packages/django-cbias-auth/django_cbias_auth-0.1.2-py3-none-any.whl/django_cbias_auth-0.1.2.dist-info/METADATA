Metadata-Version: 2.1
Name: django-cbias-auth
Version: 0.1.2
Summary: Auth library via https://cbias.ru
Home-page: https://github.com/devind-team/django-cbias-auth
License: MIT
Keywords: django,graphene,auth
Author: devind-team
Author-email: team@devind.ru
Requires-Python: >=3.9,<4.0
Classifier: Framework :: Django
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.9
Requires-Dist: Django (>=3.2.12,<5.0.0)
Requires-Dist: django-oauth-toolkit (>=1.7.0,<2.0.0)
Requires-Dist: graphene (==2.1.9)
Requires-Dist: graphene-django (>=2.15.0,<3.0.0)
Requires-Dist: requests (>=2.27.1,<3.0.0)
Project-URL: Repository, https://github.com/devind-team/django-cbias-auth
Description-Content-Type: text/markdown

# Django-Cbias-Auth
Библиотека для авторизации на портале https://cbuas.ru.

## Установка

```shell
# via pip
pip install django_cbias_auth
# via poetry
poetry add django_cbias_auth
```

## Настройки

В файл `settings.py` добавить:
```python

EXTERNAL_URLS = {
    'auth_cbias': 'www.cbias.ru/sso_app/remote_auth.spf?uid=%uid&ris=%system'
}

```
- %uid - идентификатор пользователя
- %system - идентификатор системы

## Схема

```gql
mutation Auth($uid: String!, $clientId: String!, $clientSecret: String!) {
  auth(payload: { uid: $uid, clientId: $clientId, clientSecret: $clientSecret }) {
    success
    errors {
      field
      messages
      __typename
    }
    __typename
  }
}
```

# Создание приложения

```python
python manage.py createoauthapp 'Авторизация через cbias.ru' 
```
